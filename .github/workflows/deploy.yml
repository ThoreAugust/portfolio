- name: Build on Push

- on:
    push:
      branches:[master]
      
- jobs:
    build:
      runs-on: ubuntu-18.04
      steps:
        - uses: actions/checkout@master

        - name: Setup Node
          uses: actions/setup-node@master
          with:
            node-version: '12.x'

        - name: Cache dependencies
          uses: actions/cache@master
          with:
            path: ~/.npm
            key: ${{runner.os}}-node-${{ hashFiles('**/package-lock.json')}}
            restore-keys: |
                    ${{runner.os}}-node-

        - run: npm ci
        - run: npm run build